<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<h:head>
</h:head>
<h:body style="font-size: 12px;">
	<h:form enctype="multipart/form-data">
		<p:panel id="panel" header="Add Product" style="margin-bottom:10px; width:85%" align="">

			<p:messages id="messages" showDetail="true" autoUpdate="true" closable="true" />
			<p:selectOneMenu id="category" value="#{productBean.selected}" valueChangeListener="#{productBean.generateElement}">
				<f:selectItem itemLabel="select.." itemValue="select.." />
				<f:selectItems value="#{productBean.categories}" />
				<p:ajax update="panel" listener="#{productBean.generateElement}" />
			</p:selectOneMenu>
			
			<ui:fragment rendered="#{productBean.hasMoreSubCategories}">
				<br />
				<p:selectOneMenu value="#{productBean.subSelected}" >
					<f:selectItem itemLabel="select.." itemValue="select.." />
					<f:selectItems value="#{productBean.subCategories}" />
					<p:ajax update="panel" listener="#{productBean.generateSubElement}" />
				</p:selectOneMenu>
			</ui:fragment>
			
			<ui:fragment rendered="#{productBean.hasMoreSubSubCategories}">
				<br />
				<p:selectOneMenu value="#{productBean.subSubSelected}" >
					<f:selectItem itemLabel="select.." itemValue="select.." />
					<f:selectItems value="#{productBean.subSubCategories}" />
				</p:selectOneMenu>
			</ui:fragment>
			
			<br />
			
			<ui:fragment rendered="#{productBean.showProcessorElement}">
				<br />
				<ui:insert>
					<ui:include src="../components/processor-component.xhtml" />
				</ui:insert>
			</ui:fragment>
			
			<ui:fragment rendered="#{productBean.showGraphicsCardElement}">
				<br />
				<ui:insert>
					<ui:include src="../components/graphics-card-component.xhtml" />
				</ui:insert>
			</ui:fragment>
			
			<ui:fragment rendered="#{productBean.showMotherboardElement}">
				<br />
				<ui:insert>
					<ui:include src="../components/motherboard-component.xhtml" />
				</ui:insert>
			</ui:fragment>
			
			<ui:fragment rendered="#{productBean.showMemoryElement}">
				<br />
				<ui:insert>
					<ui:include src="../components/memory-component.xhtml" />
				</ui:insert>
			</ui:fragment>
						
		</p:panel>
	</h:form>
</h:body>
</html>
